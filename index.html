<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Eiscafé Tiziano – Liefergebiete</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  html,body,#map{height:100%;margin:0;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;}
  #map { position:absolute; top:0; bottom:0; right:0; left:0; }

  .bottom-legend {
    position:absolute;
    bottom:0; left:0; right:0;
    background:#fff;
    border-top:1px solid #ccc;
    padding:10px 16px;
    font-size:14px;
    line-height:1.5;
    box-shadow:0 -2px 6px rgba(0,0,0,0.1);
    overflow-x:auto;
  }

  .bottom-legend h1{
    margin:0 0 4px 0;
    font-size:17px;
  }

  .bottom-legend small{
    display:block;
    color:#555;
    margin-bottom:8px;
  }

  .legend-item{margin-top:6px;}
  .dot{
    display:inline-block;
    width:10px;height:10px;
    border-radius:50%;
    margin-right:6px;
  }
  .blue{background:#2196F3;}
  .orange{background:#FF9800;}
  .red{background:#F44336;}
  .out{background:#777;}
</style>
</head>
<body>

<div id="map"></div>

<div class="bottom-legend">
  <h1>Mindestbestellwert</h1>
  <small>Eiscafé Tiziano – Marktstraße 18, Mayen</small>
  <div class="legend-item"><span class="dot blue"></span>15 € – Zone: Mayen, Alzheim, Hausen, Kürrenberg, Sankt Johann, Ettringen, Kottenheim</div>
  <div class="legend-item"><span class="dot orange"></span>20 € – Zone: Kehrig, Monreal, Reudelsterz, Thür, Welling, Trimbs, Nitztal</div>
  <div class="legend-item"><span class="dot red"></span>25 € – Zone: Polch, Mertloch, Kollig, Gering, Kaifenheim, Weiler, Luxem, Hirten, Kirchwald, Rieden, Bell, Mendig, Volksfeld</div>
  <div class="legend-item"><span class="dot out"></span>Außerhalb – 35 € Zone: Langenfeld, Kempenich, Düngenheim, Anschau</div>
</div>

<script>
(function(){
  const data = {
    "zones": {
      "z15": [[50.363903,7.22277],[50.363826,7.226454],[50.363595,7.230122],[50.363212,7.233759],[50.362677,7.237349],[50.361994,7.240876],[50.361165,7.244325],[50.360194,7.247682],[50.359262,7.25096],[50.35833,7.254238],[50.357372,7.256942],[50.356167,7.259817],[50.35499,7.26265],[50.353457,7.264752],[50.351814,7.266512],[50.350006,7.268572],[50.347925,7.270718],[50.345953,7.272434],[50.343762,7.273808],[50.341736,7.275052],[50.339545,7.276254],[50.337271,7.277284],[50.334967,7.277983],[50.332647,7.27858],[50.330307,7.278938],[50.327956,7.279056],[50.325606,7.278933],[50.323267,7.278569],[50.320947,7.277966],[50.318657,7.277128],[50.316408,7.276056],[50.314208,7.274757],[50.312066,7.273235],[50.309994,7.271497],[50.307998,7.269551],[50.306087,7.267404],[50.30427,7.265067],[50.302555,7.262549],[50.300949,7.259861],[50.299458,7.257014],[50.297921,7.254324],[50.29644,7.251706],[50.295207,7.248702],[50.29411,7.245827],[50.293068,7.242651],[50.292163,7.239561],[50.291478,7.236729],[50.290984,7.233338],[50.29093,7.229819],[50.291039,7.226772],[50.291231,7.222824],[50.291615,7.219176],[50.291917,7.215614],[50.292438,7.211924],[50.29319,7.208307],[50.293943,7.20469],[50.294771,7.201245],[50.29574,7.197892],[50.296848,7.194645],[50.298089,7.191519],[50.299458,7.188526],[50.300949,7.185679],[50.302555,7.182991],[50.30427,7.180473],[50.306117,7.17845],[50.30809,7.175982],[50.310064,7.173514],[50.311845,7.171755],[50.313407,7.169781],[50.314832,7.16785],[50.316175,7.165875],[50.317627,7.163987],[50.318915,7.161498],[50.320121,7.159138],[50.321491,7.156477],[50.322971,7.153172],[50.324752,7.14901],[50.326286,7.145405],[50.329573,7.13974],[50.332532,7.136478],[50.335326,7.135191],[50.338065,7.137423],[50.340038,7.141628],[50.34179,7.144976],[50.343434,7.14901],[50.345077,7.153044],[50.346611,7.156992],[50.347651,7.160597],[50.349185,7.164803],[50.35039,7.168493],[50.351759,7.172184],[50.353238,7.176304],[50.354771,7.180424],[50.356085,7.184372],[50.357454,7.188492],[50.358878,7.192783],[50.360083,7.197161],[50.361165,7.201215],[50.361994,7.204664],[50.362677,7.208191],[50.363212,7.211781],[50.363595,7.215418],[50.363826,7.219086]],
      "z20": [[50.371471,7.177334],[50.372785,7.18626],[50.373879,7.19553],[50.374536,7.203856],[50.374536,7.211065],[50.374044,7.217503],[50.373715,7.222996],[50.373222,7.229347],[50.372675,7.235012],[50.371799,7.240505],[50.370868,7.246084],[50.370047,7.250462],[50.368788,7.255268],[50.367857,7.25913],[50.366653,7.263422],[50.365449,7.268486],[50.364244,7.273293],[50.363149,7.278013],[50.36189,7.282906],[50.360192,7.288399],[50.357893,7.293015],[50.355811,7.298269],[50.353457,7.303162],[50.351211,7.307625],[50.349075,7.311831],[50.347104,7.31638],[50.344913,7.320843],[50.342667,7.324791],[50.340202,7.328224],[50.337244,7.330885],[50.334176,7.331915],[50.331272,7.332258],[50.328532,7.3314],[50.325957,7.329941],[50.323327,7.327623],[50.321299,7.324448],[50.319655,7.320585],[50.318449,7.316637],[50.317134,7.312431],[50.316367,7.307024],[50.315435,7.302046],[50.314586,7.299299],[50.313489,7.296638],[50.312366,7.294664],[50.311078,7.293205],[50.30968,7.292089],[50.306939,7.290545],[50.304472,7.288742],[50.302334,7.285223],[50.301183,7.281361],[50.299812,7.276812],[50.298387,7.27252],[50.297345,7.268229],[50.294439,7.264538],[50.291533,7.262392],[50.288626,7.260847],[50.285939,7.258186],[50.283252,7.253981],[50.280564,7.250118],[50.278096,7.245398],[50.275573,7.239904],[50.273927,7.233982],[50.272885,7.227974],[50.272775,7.222309],[50.273214,7.216387],[50.273543,7.211237],[50.274585,7.20583],[50.275906,7.200942],[50.276928,7.19566],[50.278169,7.190494],[50.279624,7.185466],[50.281285,7.180597],[50.283145,7.175908],[50.285198,7.171419],[50.287433,7.167149],[50.289842,7.163117],[50.291423,7.158966],[50.293452,7.154589],[50.294878,7.150726],[50.296687,7.147036],[50.298935,7.144632],[50.301183,7.143002],[50.303376,7.14077],[50.305788,7.139225],[50.308748,7.137508],[50.311927,7.135963],[50.315106,7.134161],[50.318203,7.132487],[50.320806,7.129955],[50.324258,7.127981],[50.327546,7.126522],[50.330341,7.125149],[50.333464,7.123604],[50.336751,7.122488],[50.341845,7.122917],[50.347104,7.125149],[50.351376,7.130642],[50.3551,7.135792],[50.358933,7.143173],[50.361999,7.150555],[50.364518,7.156048],[50.366489,7.161369],[50.369007,7.168493]],
      "z25": [[50.400038,7.225742],[50.398889,7.232609],[50.397248,7.240677],[50.395606,7.249088],[50.393965,7.257328],[50.391338,7.265568],[50.389587,7.273121],[50.387398,7.280846],[50.385647,7.288055],[50.384224,7.293205],[50.382801,7.300501],[50.380831,7.306252],[50.37886,7.310371],[50.376726,7.314405],[50.374427,7.31904],[50.372237,7.324705],[50.368343,7.33254],[50.363673,7.336439],[50.358851,7.33985],[50.353896,7.342758],[50.348831,7.345152],[50.344201,7.346077],[50.339453,7.345584],[50.335229,7.344146],[50.331004,7.342708],[50.326779,7.34127],[50.323327,7.340326],[50.319929,7.34024],[50.316367,7.341356],[50.31253,7.342815],[50.308748,7.344017],[50.305075,7.34479],[50.300525,7.34539],[50.2957,7.342815],[50.290655,7.340412],[50.28561,7.337837],[50.280674,7.334404],[50.276286,7.331142],[50.271898,7.327366],[50.268057,7.322903],[50.264217,7.317581],[50.262022,7.310371],[50.260595,7.302647],[50.259278,7.29475],[50.257936,7.285999],[50.255446,7.278698],[50.253266,7.271158],[50.250345,7.263728],[50.247424,7.256298],[50.244021,7.24926],[50.241057,7.241707],[50.237873,7.234154],[50.237269,7.225657],[50.238367,7.216558],[50.241277,7.209263],[50.244735,7.202568],[50.248742,7.195873],[50.252364,7.190723],[50.258291,7.185402],[50.264217,7.180939],[50.267948,7.174759],[50.272117,7.168751],[50.27486,7.160683],[50.276505,7.151241],[50.279358,7.142487],[50.282319,7.133732],[50.285281,7.126179],[50.28912,7.119656],[50.293726,7.114677],[50.298222,7.109013],[50.302828,7.105064],[50.306981,7.100495],[50.312131,7.098601],[50.31735,7.097238],[50.322614,7.096412],[50.327901,7.096126],[50.333189,7.096383],[50.338455,7.097182],[50.343677,7.098519],[50.348831,7.100388],[50.353896,7.102782],[50.358851,7.10569],[50.363673,7.109101],[50.368343,7.113],[50.372839,7.11737],[50.377144,7.122193],[50.382199,7.12575],[50.386359,7.129269],[50.390353,7.131758],[50.393965,7.136393],[50.396755,7.142143],[50.399327,7.149353],[50.401406,7.156134],[50.402938,7.163515],[50.403868,7.170639],[50.403813,7.178106],[50.403704,7.184973],[50.403375,7.192354],[50.402883,7.199907],[50.402445,7.205915],[50.40157,7.212954],[50.401023,7.219219]]
    },
    "points": [
      {"id":1,"name":"Alzheim","lat":50.300964,"lon":7.228317,"zone":"15"},
      {"id":2,"name":"Ettringen","lat":50.353347,"lon":7.219048,"zone":"15"},
      {"id":3,"name":"Hausen","lat":50.327053,"lon":7.269173,"zone":"15"},
      {"id":4,"name":"Kottenheim","lat":50.347432,"lon":7.25471,"zone":"15"},
      {"id":5,"name":"Kürrenberg","lat":50.333847,"lon":7.156219,"zone":"15"},
      {"id":6,"name":"Mayen","lat":50.327969,"lon":7.22277,"zone":"15"},
      {"id":7,"name":"Sankt Johann","lat":50.343269,"lon":7.194672,"zone":"15"},
      {"id":8,"name":"Kehrig","lat":50.282978,"lon":7.222137,"zone":"20"},
      {"id":9,"name":"Monreal","lat":50.302718,"lon":7.160683,"zone":"20"},
      {"id":10,"name":"Nitztal","lat":50.349623,"lon":7.151756,"zone":"20"},
      {"id":11,"name":"Reudelsterz","lat":50.316905,"lon":7.154087,"zone":"20"},
      {"id":12,"name":"Thür","lat":50.357356,"lon":7.276375,"zone":"20"},
      {"id":13,"name":"Trimbs","lat":50.326615,"lon":7.300072,"zone":"20"},
      {"id":14,"name":"Welling","lat":50.332751,"lon":7.313461,"zone":"20"},
      {"id":15,"name":"Bell","lat":50.388876,"lon":7.23278,"zone":"25"},
      {"id":16,"name":"Gering","lat":50.27305,"lon":7.261877,"zone":"25"},
      {"id":17,"name":"Hirten","lat":50.326477,"lon":7.114541,"zone":"25"},
      {"id":18,"name":"Kaifenheim","lat":50.249839,"lon":7.224541,"zone":"25"},
      {"id":19,"name":"Kirchwald","lat":50.375905,"lon":7.15313,"zone":"25"},
      {"id":20,"name":"Kollig","lat":50.269155,"lon":7.275352,"zone":"25"},
      {"id":21,"name":"Luxem","lat":50.318848,"lon":7.108246,"zone":"25"},
      {"id":22,"name":"Mendig","lat":50.376124,"lon":7.280502,"zone":"25"},
      {"id":23,"name":"Mertloch","lat":50.274202,"lon":7.306252,"zone":"25"},
      {"id":24,"name":"Polch","lat":50.294603,"lon":7.312431,"zone":"25"},
      {"id":25,"name":"Rieden","lat":50.39101,"lon":7.179222,"zone":"25"},
      {"id":26,"name":"Volksfeld","lat":50.386194,"lon":7.148666,"zone":"25"},
      {"id":27,"name":"Weiler","lat":50.31028,"lon":7.11889,"zone":"25"},
      {"id":28,"name":"Anschau","lat":50.294603,"lon":7.090988,"zone":"OUT"},
      {"id":29,"name":"Düngenheim","lat":50.262351,"lon":7.167892,"zone":"OUT"},
      {"id":30,"name":"Kempenich","lat":50.414644,"lon":7.117424,"zone":"OUT"},
      {"id":31,"name":"Langenfeld","lat":50.37262,"lon":7.089958,"zone":"OUT"}
    ],
    "view": {"center":{"lat":50.327052957438326,"lng":7.175445556640626},"zoom":12}
  };

  const map=L.map('map',{preferCanvas:true, zoomControl:true}).setView(
    [data.view.center.lat, data.view.center.lng],
    data.view.zoom
  );

  L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png',{
    maxZoom:19,
    attribution:'© OpenStreetMap & CartoDB'
  }).addTo(map);

  function styledPolygon(latlngs,color){
    const halo=L.polygon(latlngs,{color:'#fff',weight:9,fill:false,opacity:1});
    const line=L.polygon(latlngs,{color,weight:5,fill:false,opacity:1});
    return L.layerGroup([halo,line]).addTo(map);
  }

  styledPolygon(data.zones.z15,'#2196F3');
  styledPolygon(data.zones.z20,'#FF9800');
  styledPolygon(data.zones.z25,'#F44336');

  const COLORS={'15':'blue','20':'orange','25':'red','OUT':'out'};
  function numIcon(n,zone){return L.divIcon({className:'',html:`<div style="display:flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:50%;color:#fff;font-weight:800;font-size:11px;line-height:1;border:1px solid #0002;box-shadow:0 0 0 2px #fff;" class="${COLORS[zone]||'out'}">${n}</div>`,iconSize:[18,18],iconAnchor:[9,9]});}
  data.points.forEach(p=>{
    L.marker([p.lat,p.lon],{icon:numIcon(p.id,p.zone)}).addTo(map).bindTooltip(`${p.id} – ${p.name}`,{permanent:false,opacity:0.9});
  });

})();
</script>
</body>
</html>
